<!DOCTYPE html>
<html lang="ko">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Function</title>
</head>
<body>
   <h1>함수</h1>
   <script>
      var a = 1
      // 함수 : 기능을 수행하는 명령 집합(미리 만들어 놓은 수식)
      // 1에서 10까지 합
      let sum = 0;
      let n = 10;
      for(let i = 0; i <= n; i++) {
         sum += i;
      }
      console.log(`1 ~ 10까지 합은 : ${sum}`);

      // 1에서 n까지 합을 구하는 함수
      // 함수 선언
      function Sum(min, max) {
         let sum = 0; // 지역변수
         for(let i = min; i <= max; i++) {
            sum += i
         }
         return sum; // 호출한 곳으로 값 전달
      }
      // 함수 호출(실행)
      console.log(Sum(1,10));
      console.log(Sum(200, 300, 500)); // 3번째 인자는 무시함! 왜냐? 함수에 받는 인자가 없으니께
      console.log(Sum());
      console.log(Sum); // "()"가 없으면 함수 자체임!! 

      // 익명함수 - 선언 후에 사용 가능
      let PlusFunc = function(num1, num2) {
         return num1 + num2;
      }
      console.log("익명함수 : ", PlusFunc(10, 20));

      // 자기 호출 함수 (즉시 실행 함수)
      let count = function () {
         let c = 0;
         return function() {
            // 클로저 : 자유 변수를 가지고 리턴되는 함수
            //          자유 변수가 저장되는 공간
            // 클로저 목적 : 변수 보호, 선언된 환경이 사라진 변수 사용
            return ++c; // ++을 수행하고 c값을 리턴함
         }
      }();
      let result = count();
      console.log("result :",result);

      let result2 = count();
      console.log("result2 :",result2);
      console.log(count());

      // 증감 연산자 위치
      let cnt = 0;
      let cnt2 = 0;
      console.log(cnt++); // cnt를 먼저 호출 하고 다음에 ++이 실행되면서 값이 증가함
      console.log(cnt); // => 그래서 콘솔에 1이 찍힘
      console.log(++cnt2); // ++이 실행되고 cnt를 호출함 
      console.log(cnt2); 
      
      // 콜백 함수 : 다른 함수의 매개값으로 전달되는 함수
      function done(coffee) {
         console.log(`${coffee}준비 완료`);
      }

      function order(coffee, callback) {
         console.log(`${coffee}주문 접수`);
         setTimeout(() => { callback(coffee);}, 1000);
      }

      // order("아메리카노", done);
      // order("카페라떼", done);
      // order("망고주스", done);

      // 펼침 연산자 : ...변수명
      let arr = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];
      hap(...arr); // 배열의 값을 풀어서 전달
      function hap(x, y, z, ...nums) { // 매개변수로 넘길때는 매개변수 젤 마지막에 와야함(남은 값을 모두 배열타입으로 저장함)
         let sum = 0;
         sum = x + y + z;
         console.log("1차 합계 :", sum);
         for(let i = 0; i < nums.length; i++) {
            sum += nums[i];
         }
         console.log("배열 합계 :", sum)
      }
      // 선언문 젤 먼저 해석
      // 위에서 아래로 코드 실행
      var a = 1;
      var b = 5;
      function outfunc() {
         function innerfunc() {
            a = b;
         }
         console.log("a_1 :", a);
         a = 3;
         b = 4;
         innerfunc();
         console.log("a_2 :", a);
         var b = 2; console.log("b_1 :", b);
      }
      outfunc(); 
      console.log("b_2 :", b);
      </script>
</body>
</html>